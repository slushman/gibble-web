---
import City from "@layouts/City";
import { getAllergensFromCityRestaurants, getCityCategories, getRestaurantsAsCards } from '@utils';

const allCityRestaurants = await Astro.glob('./restaurants/denver/*.mdx');
const cards = getRestaurantsAsCards(allCityRestaurants);
const categories = getCityCategories(allCityRestaurants);
const allergens = getAllergensFromCityRestaurants(allCityRestaurants);
---
<City
  allergens={allergens}
  cards={cards}
  categories={categories}
  city="denver"
  name="Denver"
  restaurants={allCityRestaurants}
/>
